<!DOCTYPE html>
<html>
    <head>
        <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
        <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
        <script src="https://cdn.rawgit.com/archilogic-com/aframe-gblock/6498b71d/dist/gblock.js"></script>
    </head>
    <body>
        <a-scene physics="friction: .1; debug: true;">
            <a-asset>
                <a-asset src="https://poly.google.com/view/f03BM3V0FRL" id="shine"></a-asset>
            </a-asset>
            <!--Build our background and our floor-->
            <a-plane static-body position="0 -2 0" rotation="-90 0 0" width="5" height="5" color="#99E6B3" material="side: double"></a-plane>
            
            <a-plane id="death" static-body position="0 -20 0" rotation="-90 0 0" width="100" height="100" color="black" material="flatShading: true; shader: flat;"></a-plane>
            <a-sky color="black"></a-sky>
            
            <a-entity rotation="-50 0 0" position="0 2 -10">
                <a-entity id="block" static-body>
                    <a-box width="3" height="15" depth="3"></a-box>
                    <a-animation attribute="rotation"
                       dur="10000"
                       fill="forwards"
                       to="0 360 0"
                       easing="linear"
                       repeat="indefinite"></a-animation>
               </a-entity>
            </a-entity>
            
            <a-entity rotation="0 0 90" position="0 7 -20">
                <a-entity id="block" static-body>
                    <a-box width="3" height="15" depth="3"></a-box>
                    <a-animation attribute="rotation"
                       dur="10000"
                       fill="forwards"
                       to="0 360 0"
                       easing="linear"
                       repeat="indefinite"></a-animation>
               </a-entity>
            </a-entity>
            
            <a-plane id="checkpointOne" static-body position="10 8 -21" rotation="-90 0 0" width="2" height="2" color="#e699d9" material="side: double"></a-plane>
            <a-plane id="checkpointTwo" static-body position="-10 8 -21" rotation="-90 0 0" width="2" height="2" color="#e699d9" material="side: double"></a-plane>
            
            <a-entity id="finalPlatform" position="0 -30 -35">
                <a-plane rotation="-90 0 0" width="5" height="20" static-body material="side: double"></a-plane>
                <a-entity id="goal" static-body position="0 1 -9" gblock="#shine" scale=".005 .005 .005" rotation="0 90 0">
                    <a-animation attribute="rotation"
                       dur="10000"
                       fill="forwards"
                       to="0 450 0"
                       easing="linear"
                       repeat="indefinite"></a-animation>
                </a-entity>
                <a-animation attribute="position"
                       dur="1000"
                       fill="forwards"
                       to="0 9 -35"
                       easing="linear"
                       direction="alternate"
                       begin="solved"></a-animation>
            </a-entity>
            
            <!--Make a player/camera entity, and give it the attributes we need it to have in order control camera with mouse, movement with WASD, and jump with spacebar-->
            <a-entity class="player" id="player"
                camera
                jump-ability
                universal-controls
                kinematic-body
                position="0 4 0">
            </a-entity>
        </a-scene>
    </body>
    <script type="text/javascript" src="script.js"></script>
</html>